#include "main.h"
#include"monster.h"

Monster::Monster(float x,float y,float z) {

    this->position = glm::vec3(x, y, z);
    this->rotation =0;

    GLfloat legs[] = {
            -0.1 , 0.1 , 0.4 ,
            -0.1 , 0.1 , 0.6 ,
            -0.9 , 0.1 , 0.4 ,

            -0.1 , 0.1 , 0.6 ,
            -0.9 , 0.1 , 0.4 ,
            -0.9 , 0.1 , 0.6 ,

            -0.1 , 0.1 , 0.6,
            -0.1 , -0.1 , 0.6 ,
            -0.9 , 0.1 , 0.6 ,

            -0.1 , -0.1 , 0.6 ,
            -0.9 , 0.1 , 0.6 ,
            -0.9 , -0.1 , 0.6 ,

            //a
            -0.1 , 0.1 , 0.4,
            -0.1 , -0.1 , 0.4 ,
            -0.9 , 0.1 , 0.4 ,

            -0.1 , -0.1 , 0.4 ,
            -0.9 , 0.1 , 0.4 ,
            -0.9 , -0.1 , 0.4 ,
            //a
            -0.1 , -0.1 , 0.4 ,
            -0.1 , -0.1 , 0.6 ,
            -0.9 , -0.1 , 0.4 ,
            
            -0.1 , -0.1 , 0.6 ,
            -0.9 , -0.1 , 0.4 ,
            -0.9 , -0.1 , 0.6 ,


            //aaaa
            -0.1 , 0.1 , -0.4 ,
            -0.1 , 0.1 , -0.6 ,
            -0.9 , 0.1 , -0.4 ,

            -0.1 , 0.1 , -0.6 ,
            -0.9 , 0.1 , -0.4 ,
            -0.9 , 0.1 , -0.6 ,

            -0.1 , 0.1 , -0.6,
            -0.1 , -0.1 , -0.6 ,
            -0.9 , 0.1 , -0.6 ,

            -0.1 , -0.1 , -0.6 ,
            -0.9 , 0.1 ,-0.6 ,
            -0.9 , -0.1 ,-0.6 ,

            //a
            -0.1 , 0.1 , -0.4,
            -0.1 , -0.1 , -0.4 ,
            -0.9 , 0.1 ,-0.4 ,

            -0.1 , -0.1 , -0.4 ,
            -0.9 , 0.1 , -0.4 ,
            -0.9 , -0.1 , -0.4 ,
            //a
            -0.1 , -0.1 , -0.4 ,
            -0.1 , -0.1 , -0.6 ,
            -0.9 , -0.1 , -0.4 ,

            -0.1 , -0.1 , -0.6 ,
            -0.9 , -0.1 , -0.4 ,
            -0.9 , -0.1 , -0.6 ,

    };

    this->leg = create3DObject(GL_TRIANGLES, 48, legs, COLOR_BLACK, GL_FILL);

    GLfloat bodies[] = {
            -0.9 , 1 , -1 ,
            -0.9 , 1 , 1 ,
            -0.9 , -1 , -1 ,

            -0.9 , -1 , 1 ,
            -0.9 , 1 , 1 ,
            -0.9 , -1 , -1 ,

            -1.7 , 1 , -1 ,
            -1.7 , 1 , 1 ,
            -1.7 , -1 , -1 ,

            -1.7 , -1 , 1 ,
            -1.7 , 1 , 1 ,
            -1.7 , -1 , -1 ,

            // rt
            -0.9 , 1 , 1 ,
            -0.9 , -1 , 1 ,
            -1.7 , 1 , 1 ,

            -1.7 , -1 , 1 ,
            -0.9 , -1 , 1 ,
            -1.7 , 1 , 1 ,
            //brt
            -0.9 , 1 , -1 ,
            -0.9 , -1 , -1 ,
            -1.7 , 1 , -1 ,

            -1.7 , -1 , -1 ,
            -0.9 , -1 , -1 ,
            -1.7 , 1 , -1 ,

            //frnt

            -0.9 , 1 , -1 ,
            -0.9 , 1 , 1 ,
            -1.7 , 1 , -1 ,

            -0.9 , 1 , 1 ,
            -1.7 , 1 , -1,
            -1.7 , 1 , 1 ,

            //bfrnt
            -0.9 , -1 , -1 ,
            -0.9 , -1 , 1 ,
            -1.7 , -1 , -1 ,

            -0.9 , -1 , 1 ,
            -1.7 , -1 , -1,
            -1.7 , -1 , 1 ,


    };

    this->body = create3DObject(GL_TRIANGLES, 36, bodies, COLOR_RED, GL_FILL);

    GLfloat heads[] = {
            -1.7 , 0.6 , -0.6 ,
            -1.7 , 0.6 , 0.6 ,
            -1.7 , -0.6 , -0.6 ,

            -1.7 , -0.6 , 0.6 ,
            -1.7 , 0.6 , 0.6 ,
            -1.7 , -0.6 , -0.6 ,

            -2.3 , 0.6 , -0.6 ,
            -2.3 , 0.6 , 0.6 ,
            -2.3 , -0.6 , -0.6 ,

            -2.3 , -0.6 , 0.6 ,
            -2.3 , 0.6 , 0.6 ,
            -2.3 , -0.6 , -0.6 ,

            // rt
            -1.7 , 0.6 , 0.6 ,
            -1.7 , -0.6 , 0.6 ,
            -2.3 , 0.6 , 0.6 ,

            -2.3 , -0.6 , 0.6 ,
            -1.7 , -0.6 , 0.6 ,
            -2.3 , 0.6 , 0.6 ,
            //brt
            -1.7 , 0.6 , -0.6 ,
            -1.7 , -0.6 , -0.6 ,
            -2.3 , 0.6 , -0.6 ,

            -2.3 , -0.6 , -0.6 ,
            -1.7 , -0.6 , -0.6 ,
            -2.3 , 0.6 , -0.6 ,

            //frnt

            -1.7 , 0.6 , -0.6 ,
            -1.7 , 0.6 , 0.6 ,
            -2.3 , 0.6 , -0.6 ,

            -1.7 , 0.6 , 0.6 ,
            -2.3 , 0.6 , -0.6,
            -2.3 , 0.6 , 0.6 ,

            //bfrnt
            -1.7 , -0.6 , -0.6 ,
            -1.7 , -0.6 , 0.6 ,
            -2.3 , -0.6 , -0.6 ,

            -1.7 , -0.6 , 0.6 ,
            -2.3 , -0.6 , -0.6,
            -2.3 , -0.6 , 0.6 ,

    };

    this->head = create3DObject(GL_TRIANGLES, 36, heads, COLOR_BLACK, GL_FILL);


    GLfloat eyes[] = {
            -2.1 , -0.61, 0.20,
            -2.1 , -0.61 , 0.40,
            -2.0 , -0.61 , 0.3,

            -2.1 , -0.61, -0.20,
            -2.1 , -0.61 , -0.40,
            -2.0 , -0.61 , -0.3,





    };
    this->eye = create3DObject(GL_TRIANGLES, 6, eyes, COLOR_RED, GL_FILL);



};

void Monster::draw(glm::mat4 VP) {
    Matrices.model = glm::mat4(1.0f);
    glm::mat4 translate = glm::translate(this->position);    // glTranslatef
    glm::mat4 rotate = glm::rotate((float) (this->rotation * M_PI / 180.0f), glm::vec3(1, 0, 0));
    // No need as coords centered at 0, 0, 0 of cube arouund which we waant to rotate
    // rotate          = rotate * glm::translate(glm::vec3(0, -0.6, 0));
    Matrices.model *= (translate * rotate);
    glm::mat4 MVP = VP * Matrices.model;
    glUniformMatrix4fv(Matrices.MatrixID, 1, GL_FALSE, &MVP[0][0]);
    draw3DObject(this->leg);
    draw3DObject(this->body);
    draw3DObject(this->head);
    draw3DObject(this->eye);
}

